<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="css/index.css">
        <script>
            i=0;
            j=0;
            child=0;
            function view(){
                return 0;
            }
            function edit(){
                return 0;
            }
            function button_create(name,id){
                var button=document.createElement('BUTTON');
                button.innerHTML=name;
                button.className="child_button";
                button.id="btn_"+id;
                //button.style.top=j*20+10;
                button.onclick=function(){
                    switch(name){
                    case 'add':
                        position_add(id,0);
                        break;
                    case 'view':
                        view();
                        break;
                    case 'edit':
                        edit();
                        break;
                    default:
                        break;
                }
                }
                return button;
            }
            function add(branch_id){ 
                var box = document.createElement("div");
                box.id="box"+i;
                box.className="box";
                var box_p_x = document.createElement("p");
                box_p_x.id="distance_x"+i;
                box.appendChild(box_p_x);
                var box_p_y = document.createElement("p");
                box_p_y.id="distance_y"+i;
                box.appendChild(box_p_y);
                var element = document.getElementById(branch_id);
                element.appendChild(box);
                document.getElementById('distance_x'+i).innerHTML="left:"+document.getElementById("box"+i).offsetLeft;
                document.getElementById('distance_y'+i).innerHTML="top:"+document.getElementById("box"+i).offsetTop;
                i++;
            }
            function position_add(id,init){
                if(init==0){
                    child=0;
                    document.getElementById('btn_'+id).onclick=function(){
                        position_add(id,1);
                    }
                }
                var box = document.createElement("div");
                box.id=id+String.fromCharCode(65+child);
                box.className="box";
                //element.style.top=j*20+10;
                var button=button_create("add",id+String.fromCharCode(65+child));
               box.appendChild(button);
                var button=button_create("view","");
               box.appendChild(button);
                var button=button_create("edit","");
               box.appendChild(button);
               var box_p = document.createElement("p");
               box_p.innerHTML=box.id;
               box.appendChild(box_p);
               //branch.appendChild(box);
               if((init == 0)){
                    var branch = document.createElement("div");
                    branch.id="branch_"+id;
                    branch.className="branch";
                    branch.appendChild(box);
                    document.getElementById("tree").appendChild(branch);
                    j++;
                } else {
                    // Append to previously made branch
                    var branch=document.getElementById("branch_"+id);
                    branch.appendChild(box);
                }
                //document.getElementById("tree").appendChild(branch);
                //document.getElementById(box.id).offsetLeft=200+j*20;
                j++;
                child++;
            }
        </script>
    </head>
<body>
    <div id="tree" class="tree">
        <div id="branch0" clas="branch">
            <div id="A" class="box">
                <p id="distance_x"></p>
                <p id="distabce_y"></p>
                <button onclick="position_add('A',0)" class="btn_1" id="btn_A">add</button>
                <button onclick="" class="btn_2">view</button>
                <button onclick="" class="btn_3">edit</button>
            </div>
        </div>
    </div>
    <!-- <button onclick="position_add()" class="button_down"> add</button> -->
</body>
</html>
